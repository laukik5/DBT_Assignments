



Maintaining the Integrity of your Data.


1) Create a table called Cityorders. This will contain the same onum, amt and snum
   fields as the Orders table, and the same cnum and city fields as the Customers
   table, so that each customerâ€™s order will be entered into this table along with his
   or her city. Onum will be the primary key of Cityorders. All of the fields in
   City orders will be constrained to match the Customers and Orders tables. Assume
   the parent keys in these tables already have the proper constraints.
Answer:	create table cityorders
   	as
   	select onum,amt,orders.snum,customers.cnum,city from orders,customers where customers.cnum=orders.cnum; or select onum,amt,orders.snum,customers.cnum, city from orders Natural join customers;
   	alter table cityorders add primary key (onum);
   	alter table cityorders add foreign key(cnum)  references customers(Cnum);


2) Redefine the Orders table as follows:- add a new column called prev, which will
   identify, for each order, the onum of the previous order for that current customer.
   Implement this with a foreign key referring to the Orders table itself. The foreign
   key should refer as well to the cnum of the customer, providing a definite
   enforced link between the current order and the one referenced
Answer:	alter table orders add column prev_order int;
   	alter table orders add foreign key orders(prev_order) references orders(Onum);
	alter table orders add foreign key orders(prev_order) references customers(cnum);
